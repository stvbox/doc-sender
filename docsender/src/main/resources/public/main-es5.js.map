{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/auth-form/auth-form.component.ts","webpack:///src/app/auth/auth-form/auth-form.component.html","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/common/BaseComponent.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","loadChildren","m","DocumentsModule","AppRoutingModule","forRoot","imports","AppComponent","authSvc","title","isAuthorized","busyState","getBusyState","pipe","unsubscribe","subscribe","reloadUserInfo","selector","templateUrl","styleUrls","AppModule","declarations","bootstrap","AuthFormComponent","fb","form","group","username","required","password","login","value","AuthModule","providers","AuthService","http","userInfo","isLoading","auth","headers","body","request","error","event","response","status","setUserInfo","data","get","next","providedIn","BaseComponent","complete","environment","production","bootstrapModule","err","console"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGA,QAAMC,MAAM,GAAW,CACtB;AAAEC,UAAI,EAAE,WAAR;AAAqBC,kBAAY,EAAE;AAAA,eAAM;AAAA;AAAA;AAAA;AAAA,oDAAuCV,IAAvC,CAA4C,UAAAW,CAAC;AAAA,iBAAIA,CAAC,CAACC,eAAN;AAAA,SAA7C,CAAN;AAAA;AAAnC,KADsB,CAAvB;;QAQaC,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBAHnB,CAAC,6DAAaC,OAAb,CAAqBN,MAArB,CAAD,CAGmB,EAFlB,4DAEkB;;;;0HAAhBK,gB,EAAgB;AAAA;AAAA,kBAFlB,4DAEkB;AAAA,O;AAFN,K;;;;;sEAEVA,gB,EAAgB;cAJ5B,sDAI4B;eAJnB;AACTE,iBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBN,MAArB,CAAD,CADA;AAETF,iBAAO,EAAE,CAAC,4DAAD;AAFA,S;AAImB,Q;;;;;;;;;;;;;;;;;;ACX7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;ACWE;;AACC;;AAOC;;AACD;;AACA;;AAEC;;AACC;;AACC;;AACiC;;AAAkB;;AACpD;;AACA;;AACC;;AACwC;;AAAoB;;AAC7D;;AACA;;AACC;;AAEoB;;AAAI;;AACzB;;AACD;;AACD;;AACD;;;;AAbO;;AAAA;;AAIA;;AAAA;;;;;;AAgBN;;;;;;AACA;;;;;;AAFD;;AACC;;AACA;;AACD;;;;;;AAFY;;AAAA;;AACI;;AAAA;;;;;;AAMjB;;AACC;;AAED;;;;;;;;QD9CYU,Y;;;;;AAKZ,4BAAoBC,OAApB,EAA0C;AAAA;;AAAA;;AACzC;AADmB,cAAAA,OAAA,GAAAA,OAAA;AAJpB,cAAAC,KAAA,GAAQ,yBAAR;AACA,cAAAC,YAAA,GAAwB,KAAxB;AAG0C;AAEzC;;;;mCAEU;AAAA;;AACV,eAAKC,SAAL,GAAiB,KAAKH,OAAL,CAAaI,YAAb,EAAjB;AACA,eAAKJ,OAAL,CAAaE,YAAb,GAA4BG,IAA5B,CACC,iEAAU,KAAKC,WAAf,CADD,EAEEC,SAFF,CAEY,UAACL,YAAD,EAAkB;AAC7B,kBAAI,CAACA,YAAL,GAAoBA,YAApB;AACA,WAJD;AAKA;;;yCAEgB;AAChB,eAAKF,OAAL,CAAaQ,cAAb;AACA;;;;MApBgC,mE;;;uBAArBT,Y,EAAY,+H;AAAA,K;;;YAAZA,Y;AAAY,+B;AAAA,0F;AAAA,e;AAAA,a;AAAA,i4B;AAAA;AAAA;ACVzB;;AACC;;AACC;;AAEC;;AAKA;;AACD;;AACA;;AA6BD;;AACD;;AAEA;;AACC;;AACC;;AAID;;AACD;;AAEA;;;;;;AAlDK;;AAAA;;AASW;;AAAA;;AAkCA;;AAAA,qGAAkD,UAAlD,EAAkD,GAAlD;;;;;;;;;sEDnCHA,Y,EAAY;cALxB,uDAKwB;eALd;AACVU,kBAAQ,EAAE,UADA;AAEVC,qBAAW,EAAE,sBAFH;AAGVC,mBAAS,EAAE,CAAC,sBAAD;AAHD,S;AAKc,Q;;;;;;;;;;;;;;;;;;;;;;AEVzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAqBaC,S;;;;;YAAAA,S;AAAS,kBAFT,2DAES;;;;yBAATA,S;AAAS,O;AAAA,gBATZ,CACR,uEADQ,EAER,oEAFQ,EAGR,qEAHQ,EAIR,kEAJQ,EAKR,4DALQ,CASY;;;;0HAATA,S,EAAS;AAAA,uBAXpB,2DAWoB;AAXR,kBAGZ,uEAHY,EAIZ,oEAJY,EAKZ,qEALY,EAMZ,kEANY,EAOZ,4DAPY;AAWQ,O;AAJV,K;;;;;sEAICA,S,EAAS;cAbrB,sDAaqB;eAbZ;AACTC,sBAAY,EAAE,CACb,2DADa,CADL;AAITf,iBAAO,EAAE,CACR,uEADQ,EAER,oEAFQ,EAGR,qEAHQ,EAIR,kEAJQ,EAKR,4DALQ,CAJA;AAWTgB,mBAAS,EAAE,CAAC,2DAAD;AAXF,S;AAaY,Q;;;;;;;;;;;;;;;;;;ACrBtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACCC;;AAEG;AAAA;;AAAA;;AAAA;AAAA;;AAEF;;AACC;;AACC;;AAAqB;;AAAM;;AAC3B;;AAAmB;;AAAnB;;AACD;;AACA;;AACC;;AAAqB;;AAAO;;AAC5B;;AAAmB;;AAAnB;;AACD;;AACA;;AACC;;AAEiC;;AAAI;;AACtC;;AACD;;AACD;;;;;;AAlBG;;AAaQ;;AAAA;;;;;;AAMX;;;;;;AArBD;;AACC;;AAoBA;;AAGD;;;;;;AAvBO;;AAAA;;AAoBD;;AAAA;;;;QDXOC,iB;;;;;AAIZ,iCACSC,EADT,EAEShB,OAFT,EAE6B;AAAA;;AAAA;;AACzB;AAFK,eAAAgB,EAAA,GAAAA,EAAA;AACA,eAAAhB,OAAA,GAAAA,OAAA;AAAoB;AACf;;;;mCAEN;AACP,eAAKG,SAAL,GAAiB,KAAKH,OAAL,CAAaI,YAAb,EAAjB;AAEA,eAAKa,IAAL,GAAY,KAAKD,EAAL,CAAQE,KAAR,CAAc;AACzBC,oBAAQ,EAAE,CAAC,IAAD,EAAO,0DAAWC,QAAlB,CADe;AAEzBC,oBAAQ,EAAE,CAAC,IAAD,EAAO,0DAAWD,QAAlB;AAFe,WAAd,CAAZ;AAIA;;;mCAEU;AACV,eAAKpB,OAAL,CAAasB,KAAb,CAAmB,KAAKL,IAAL,CAAUM,KAA7B;AACA;;;;MApBqC,mE;;;uBAA1BR,iB,EAAiB,2H,EAAA,0H;AAAA,K;;;YAAjBA,iB;AAAiB,gC;AAAA,0F;AAAA,c;AAAA,a;AAAA,qlB;AAAA;AAAA;ACV9B;;;;AAAc;;;;;;;;;sEDUDA,iB,EAAiB;cAL7B,uDAK6B;eALnB;AACVN,kBAAQ,EAAE,WADA;AAEVC,qBAAW,EAAE,4BAFH;AAGVC,mBAAS,EAAE,CAAC,4BAAD;AAHD,S;AAKmB,Q;;;;;;;;;;;;;;;;;;;;;;;;AEV9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAuBaa,U;;;;;YAAAA;;;;yBAAAA,U;AAAU,O;AAAA,iBAJX,CACV,yDADU,C;AAEV,gBANQ,CACR,4DADQ,EAER,kEAFQ,CAMR;;;;0HAEWA,U,EAAU;AAAA,uBAbrB,gFAaqB;AAbJ,kBAMjB,4DANiB,EAOjB,kEAPiB,CAaI;AANF,kBAJnB,gFAImB;AAME,O;AAVJ,K;;;;;sEAUNA,U,EAAU;cAftB,sDAesB;eAfb;AACTX,sBAAY,EAAE,CACb,gFADa,CADL;AAITxB,iBAAO,EAAE,CACR,gFADQ,CAJA;AAOTS,iBAAO,EAAE,CACR,4DADQ,EAER,kEAFQ,CAPA;AAWT2B,mBAAS,EAAE,CACV,yDADU;AAXF,S;AAea,Q;;;;;;;;;;;;;;;;;;ACvBvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;QAYaC,W;AAIZ,2BAAoBC,IAApB,EAAsC;AAAA;;AAAlB,aAAAA,IAAA,GAAAA,IAAA;AAHZ,aAAAC,QAAA,GAAiC,IAAI,oDAAJ,CAAoB,IAApB,CAAjC;AACA,aAAAzB,SAAA,GAAY;AAAE0B,mBAAS,EAAE;AAAb,SAAZ;AAGP;;;;uCAEc;AACd,iBAAO,KAAK1B,SAAZ;AACA;;;8BAEK2B,I,EAAc;AAAA;;AACnB,eAAK3B,SAAL,CAAe0B,SAAf,GAA2B,IAA3B;AACA,cAAME,OAAO,GAAG,IAAI,gEAAJ,CAAgB;AAC/B,4BAAgB;AADe,WAAhB,CAAhB;AAGA,cAAMC,IAAI,sBAAeF,IAAI,CAACX,QAApB,uBAAyCW,IAAI,CAACT,QAA9C,CAAV;AACA,cAAMY,OAAO,GAAG,IAAI,gEAAJ,CAAgB,MAAhB,EAAwB,aAAxB,EAAuCD,IAAvC,EAA6C;AAAED,mBAAO,EAAPA;AAAF,WAA7C,CAAhB;AACA,eAAKJ,IAAL,CAAUM,OAAV,CAAkBA,OAAlB,EAA2B5B,IAA3B,CACC,kEAAW,UAAC6B,KAAD,EAAW;AACrB,kBAAI,CAAC/B,SAAL,CAAe0B,SAAf,GAA2B,KAA3B;AACA,kBAAMK,KAAN;AACA,WAHD,CADD,EAKE3B,SALF,CAKY,UAAC4B,KAAD,EAAW;;;AACtB,gBAAMC,QAAQ,GAAID,KAAlB;;AACA,gBAAI,CAAAC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAQ,MAAR,GAAAA,QAAQ,CAAEC,MAAV,KAAoB,GAAxB,EAA6B;AAC5B,oBAAI,CAACC,WAAL,CAAiB,CAAD,KAACF,QAAQ,CAACJ,IAAT,MAAa,IAAb,IAAa,aAAb,GAAa,MAAb,GAAa,GAAEO,IAAhC;;AACA,oBAAI,CAACpC,SAAL,CAAe0B,SAAf,GAA2B,KAA3B;AACA;AACD,WAXD;AAYA;;;yCAEgB;AAAA;;AAChB,eAAK1B,SAAL,CAAe0B,SAAf,GAA2B,IAA3B;AACA,eAAKF,IAAL,CAAUa,GAAV,CAA6B,qBAA7B,EAAoDnC,IAApD,CACC,4DAAK,CAAL,CADD,EAEC,2DAAI,UAAC+B,QAAD;AAAA,mBAAcA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAQ,MAAR,GAAAA,QAAQ,CAAEG,IAAxB;AAAA,WAAJ,CAFD,EAGC,kEAAW,UAACL,KAAD;AAAA,mBAAW,gDAAG,IAAH,CAAX;AAAA,WAAX,CAHD,EAIE3B,SAJF,CAIY,UAACqB,QAAD,EAAc;AACzB,kBAAI,CAACU,WAAL,CAAiBV,QAAjB;AACA,WAND;AAOA,iBAAO,KAAKA,QAAZ;AACA;;;uCAEW;AACX,iBAAO,KAAKpB,cAAL,GAAsBH,IAAtB,CACN,2DAAI,UAACuB,QAAD;AAAA,mBAAc,CAAC,qDAAMA,QAAN,CAAf;AAAA,WAAJ,CADM,CAAP;AAGA;;;oCAEmBA,Q,EAAoB;AACvC,eAAKzB,SAAL,CAAe0B,SAAf,GAA2B,KAA3B;AACA,eAAKD,QAAL,CAAca,IAAd,CAAmBb,QAAnB;AACA;;;;;;;uBArDWF,W,EAAW,uH;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFX;;;;;sEAEAA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACXgB,oBAAU,EAAE;AADD,S;AAGY,Q;;;;;;;;;;;;;;;;;;;;;;ACXxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAEaC,a;AAAb;AAAA;;AACC,aAAArC,WAAA,GAAsC,IAAI,kDAAJ,CAAkB,CAAlB,CAAtC;AAOA;;;;sCALW;AACV,eAAKA,WAAL,CAAiBmC,IAAjB,CAAsB,IAAtB;AACA,eAAKnC,WAAL,CAAiBsC,QAAjB;AACA;;;;;;;uBANWD,a;AAAa,K;;;YAAbA;;;;;;;;;;;;;;;;;ACHb;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAME,WAAW,GAAG;AACzBC,gBAAU,EAAE;AADa,KAApB;AAIP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACfA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYA,UAAhB,EAA4B;AAC1B;AACD;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACf,KAAR,CAAcc,GAAd,CAAJ;AAAA,KADZ","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n\t{ path: 'documents', loadChildren: () => import('./documents/documents.module').then(m => m.DocumentsModule) }\n];\n\n@NgModule({\n\timports: [RouterModule.forRoot(routes)],\n\texports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from './auth/auth.service';\nimport { BaseComponent } from './common/BaseComponent';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss']\n})\nexport class AppComponent extends BaseComponent implements OnInit {\n\ttitle = 'Simple documents sender';\n\tisAuthorized: boolean = false;\n\tbusyState: { isLoading: boolean };\n\n\tconstructor(private authSvc: AuthService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.busyState = this.authSvc.getBusyState();\n\t\tthis.authSvc.isAuthorized().pipe(\n\t\t\ttakeUntil(this.unsubscribe),\n\t\t).subscribe((isAuthorized) => {\n\t\t\tthis.isAuthorized = isAuthorized;\n\t\t});\n\t}\n\n\treloadUserInfo() {\n\t\tthis.authSvc.reloadUserInfo();\n\t}\n\n}\n","<div class=\"header\">\n\t<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n\t\t<a [routerLink]=\"['/']\"\n\t\t   class=\"navbar-brand\">\n\t\t\t<img src=\"/assets/images/svg/document.svg\"\n\t\t\t\t width=\"30\"\n\t\t\t\t height=\"30\"\n\t\t\t\t class=\"d-inline-block align-top\"\n\t\t\t\t alt=\"\">\n\t\t\tОтправлятор документов\n\t\t</a>\n\t\t<ng-container *ngIf=\"isAuthorized\">\n\t\t\t<button class=\"navbar-toggler\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-toggle=\"collapse\"\n\t\t\t\t\tdata-target=\"#navbarNav\"\n\t\t\t\t\taria-controls=\"navbarNav\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\taria-label=\"Toggle navigation\">\n\t\t\t\t<span class=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div class=\"collapse navbar-collapse\"\n\t\t\t\t id=\"navbarNav\">\n\t\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t\t<li class=\"nav-item active\">\n\t\t\t\t\t\t<a class=\"nav-link\"\n\t\t\t\t\t\t   [routerLink]=\"['/documents']\">история документов</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link\"\n\t\t\t\t\t\t   [routerLink]=\"['/documents/extend']\">расширенный документ</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link\"\n\t\t\t\t\t\t   href=\"/logout\"\n\t\t\t\t\t\t   target=\"__blank\">exit</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</ng-container>\n\t</nav>\n</div>\n\n<div class=\"content\">\n\t<div class=\"content__inner\">\n\t\t<ng-container *ngIf=\"!busyState.isLoading; else loadingTemplate\">\n\t\t\t<auth-form *ngIf=\"!isAuthorized\"></auth-form>\n\t\t\t<router-outlet *ngIf=\"isAuthorized\"></router-outlet>\n\t\t</ng-container>\n\t</div>\n</div>\n\n<ng-template #loadingTemplate>\n\t<div class=\"spiner\">\n\t\t<img src=\"/assets/images/svg/spinner.svg\"\n\t\t\t alt=\"Загрузка...\">\n\t</div>\n</ng-template>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { AuthModule } from './auth/auth.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tAppRoutingModule,\n\t\tHttpClientModule,\n\t\tReactiveFormsModule,\n\t\tAuthModule,\n\t],\n\tbootstrap: [AppComponent],\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../auth.service';\nimport { BaseComponent } from '../../common/BaseComponent';\n\n@Component({\n\tselector: 'auth-form',\n\ttemplateUrl: './auth-form.component.html',\n\tstyleUrls: ['./auth-form.component.scss']\n})\nexport class AuthFormComponent extends BaseComponent implements OnInit {\n\tform: FormGroup;\n\tbusyState;\n\n\tconstructor(\n\t\tprivate fb: FormBuilder,\n\t\tprivate authSvc: AuthService\n\t) { super(); }\n\n\tngOnInit(): void {\n\t\tthis.busyState = this.authSvc.getBusyState();\n\n\t\tthis.form = this.fb.group({\n\t\t\tusername: [null, Validators.required],\n\t\t\tpassword: [null, Validators.required],\n\t\t});\n\t}\n\n\tonSubmit() {\n\t\tthis.authSvc.login(this.form.value);\n\t}\n\n}\n","<ng-container *ngIf=\"!busyState.isLoading\">\n\t<form *ngIf=\"form\"\n\t\t  [formGroup]=\"form\"\n\t\t  (ngSubmit)=\"onSubmit()\"\n\t\t  class=\"auth-form card\">\n\t\t<div class=\"card-body\">\n\t\t\t<div class=\"forma-row\">\n\t\t\t\t<div class=\"caption\">Логин:</div>\n\t\t\t\t<div class=\"input\"><input formControlName=\"username\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"forma-row\">\n\t\t\t\t<div class=\"caption\">Пароль:</div>\n\t\t\t\t<div class=\"input\"><input formControlName=\"password\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"forma-row-center\">\n\t\t\t\t<button [disabled]=\"busyState.isLoading\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclass=\"btn btn-primary btn-sm\">вход</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\t<img *ngIf=\"busyState.isLoading\"\n\t\t src=\"/assets/images/svg/spinner.svg\"\n\t\t alt=\"Загрузка...\">\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AuthFormComponent } from './auth-form/auth-form.component';\nimport { AuthService } from './auth.service';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n\tdeclarations: [\n\t\tAuthFormComponent,\n\t],\n\texports: [\n\t\tAuthFormComponent,\n\t],\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule,\n\t],\n\tproviders: [\n\t\tAuthService,\n\t]\n})\nexport class AuthModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { of, Observable, BehaviorSubject } from 'rxjs';\nimport { catchError, tap, map, take, delay, switchMap } from 'rxjs/operators';\nimport { Response } from '../common/response';\nimport { isNil } from 'lodash';\nimport { AuthPair } from './auth.types';\nimport { UserInfo } from './auth.types';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class AuthService {\n\tprivate userInfo: BehaviorSubject<any> = new BehaviorSubject(null);\n\tprivate busyState = { isLoading: false };\n\n\tconstructor(private http: HttpClient) {\n\t}\n\n\tgetBusyState() {\n\t\treturn this.busyState;\n\t}\n\n\tlogin(auth: AuthPair): void {\n\t\tthis.busyState.isLoading = true;\n\t\tconst headers = new HttpHeaders({\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t});\n\t\tconst body = `username=${auth.username}&password=${auth.password}`;\n\t\tconst request = new HttpRequest('POST', '/login-rest', body, { headers });\n\t\tthis.http.request(request).pipe(\n\t\t\tcatchError((error) => {\n\t\t\t\tthis.busyState.isLoading = false;\n\t\t\t\tthrow error;\n\t\t\t}),\n\t\t).subscribe((event) => {\n\t\t\tconst response = (event as HttpResponse<any>);\n\t\t\tif (response?.status == 200) {\n\t\t\t\tthis.setUserInfo(response.body?.data);\n\t\t\t\tthis.busyState.isLoading = false;\n\t\t\t}\n\t\t});\n\t}\n\n\treloadUserInfo() {\n\t\tthis.busyState.isLoading = true;\n\t\tthis.http.get<Response<any>>('/api/auth/user-info').pipe(\n\t\t\ttake(1),\n\t\t\tmap((response) => response?.data),\n\t\t\tcatchError((error) => of(null)),\n\t\t).subscribe((userInfo) => {\n\t\t\tthis.setUserInfo(userInfo);\n\t\t});\n\t\treturn this.userInfo;\n\t}\n\n\tisAuthorized(): Observable<boolean> {\n\t\treturn this.reloadUserInfo().pipe(\n\t\t\tmap((userInfo) => !isNil(userInfo)),\n\t\t);\n\t}\n\n\tprivate setUserInfo(userInfo: UserInfo) {\n\t\tthis.busyState.isLoading = false;\n\t\tthis.userInfo.next(userInfo);\n\t}\n\n}\n","import { OnDestroy } from '@angular/core';\r\nimport { ReplaySubject } from 'rxjs';\r\n\r\nexport class BaseComponent implements OnDestroy {\r\n\tunsubscribe: ReplaySubject<boolean> = new ReplaySubject(1);\r\n\r\n\tngOnDestroy(): void {\r\n\t\tthis.unsubscribe.next(true);\r\n\t\tthis.unsubscribe.complete();\r\n\t}\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}