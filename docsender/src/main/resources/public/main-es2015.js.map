{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth/auth-form/auth-form.component.ts","./src/app/auth/auth-form/auth-form.component.html","./src/app/auth/auth.module.ts","./src/app/auth/auth.service.ts","./src/app/common/BaseComponent.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n\t{ path: 'documents', loadChildren: () => import('./documents/documents.module').then(m => m.DocumentsModule) }\n];\n\n@NgModule({\n\timports: [RouterModule.forRoot(routes)],\n\texports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from './auth/auth.service';\nimport { BaseComponent } from './common/BaseComponent';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss']\n})\nexport class AppComponent extends BaseComponent implements OnInit {\n\ttitle = 'Simple documents sender';\n\tisAuthorized: boolean = false;\n\tbusyState: { isLoading: boolean };\n\n\tconstructor(private authSvc: AuthService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.busyState = this.authSvc.getBusyState();\n\t\tthis.authSvc.isAuthorized().pipe(\n\t\t\ttakeUntil(this.unsubscribe),\n\t\t).subscribe((isAuthorized) => {\n\t\t\tthis.isAuthorized = isAuthorized;\n\t\t});\n\t}\n\n\treloadUserInfo() {\n\t\tthis.authSvc.reloadUserInfo();\n\t}\n\n}\n","<div class=\"header\">\n\t<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n\t\t<a [routerLink]=\"['/']\"\n\t\t   class=\"navbar-brand\">\n\t\t\t<img src=\"/assets/images/svg/document.svg\"\n\t\t\t\t width=\"30\"\n\t\t\t\t height=\"30\"\n\t\t\t\t class=\"d-inline-block align-top\"\n\t\t\t\t alt=\"\">\n\t\t\tОтправлятор документов\n\t\t</a>\n\t\t<ng-container *ngIf=\"isAuthorized\">\n\t\t\t<button class=\"navbar-toggler\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-toggle=\"collapse\"\n\t\t\t\t\tdata-target=\"#navbarNav\"\n\t\t\t\t\taria-controls=\"navbarNav\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\taria-label=\"Toggle navigation\">\n\t\t\t\t<span class=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div class=\"collapse navbar-collapse\"\n\t\t\t\t id=\"navbarNav\">\n\t\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t\t<li class=\"nav-item active\">\n\t\t\t\t\t\t<a class=\"nav-link\"\n\t\t\t\t\t\t   [routerLink]=\"['/documents']\">история документов</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link\"\n\t\t\t\t\t\t   [routerLink]=\"['/documents/extend']\">расширенный документ</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link\"\n\t\t\t\t\t\t   href=\"/logout\"\n\t\t\t\t\t\t   target=\"__blank\">exit</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</ng-container>\n\t</nav>\n</div>\n\n<div class=\"content\">\n\t<div class=\"content__inner\">\n\t\t<ng-container *ngIf=\"!busyState.isLoading; else loadingTemplate\">\n\t\t\t<auth-form *ngIf=\"!isAuthorized\"></auth-form>\n\t\t\t<router-outlet *ngIf=\"isAuthorized\"></router-outlet>\n\t\t</ng-container>\n\t</div>\n</div>\n\n<ng-template #loadingTemplate>\n\t<div class=\"spiner\">\n\t\t<img src=\"/assets/images/svg/spinner.svg\"\n\t\t\t alt=\"Загрузка...\">\n\t</div>\n</ng-template>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { AuthModule } from './auth/auth.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tAppRoutingModule,\n\t\tHttpClientModule,\n\t\tReactiveFormsModule,\n\t\tAuthModule,\n\t],\n\tbootstrap: [AppComponent],\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../auth.service';\nimport { BaseComponent } from '../../common/BaseComponent';\n\n@Component({\n\tselector: 'auth-form',\n\ttemplateUrl: './auth-form.component.html',\n\tstyleUrls: ['./auth-form.component.scss']\n})\nexport class AuthFormComponent extends BaseComponent implements OnInit {\n\tform: FormGroup;\n\tbusyState;\n\n\tconstructor(\n\t\tprivate fb: FormBuilder,\n\t\tprivate authSvc: AuthService\n\t) { super(); }\n\n\tngOnInit(): void {\n\t\tthis.busyState = this.authSvc.getBusyState();\n\n\t\tthis.form = this.fb.group({\n\t\t\tusername: [null, Validators.required],\n\t\t\tpassword: [null, Validators.required],\n\t\t});\n\t}\n\n\tonSubmit() {\n\t\tthis.authSvc.login(this.form.value);\n\t}\n\n}\n","<ng-container *ngIf=\"!busyState.isLoading\">\n\t<form *ngIf=\"form\"\n\t\t  [formGroup]=\"form\"\n\t\t  (ngSubmit)=\"onSubmit()\"\n\t\t  class=\"auth-form card\">\n\t\t<div class=\"card-body\">\n\t\t\t<div class=\"forma-row\">\n\t\t\t\t<div class=\"caption\">Логин:</div>\n\t\t\t\t<div class=\"input\"><input formControlName=\"username\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"forma-row\">\n\t\t\t\t<div class=\"caption\">Пароль:</div>\n\t\t\t\t<div class=\"input\"><input formControlName=\"password\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"forma-row-center\">\n\t\t\t\t<button [disabled]=\"busyState.isLoading\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclass=\"btn btn-primary btn-sm\">вход</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\t<img *ngIf=\"busyState.isLoading\"\n\t\t src=\"/assets/images/svg/spinner.svg\"\n\t\t alt=\"Загрузка...\">\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AuthFormComponent } from './auth-form/auth-form.component';\nimport { AuthService } from './auth.service';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n\tdeclarations: [\n\t\tAuthFormComponent,\n\t],\n\texports: [\n\t\tAuthFormComponent,\n\t],\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule,\n\t],\n\tproviders: [\n\t\tAuthService,\n\t]\n})\nexport class AuthModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { of, Observable, BehaviorSubject } from 'rxjs';\nimport { catchError, tap, map, take, delay, switchMap } from 'rxjs/operators';\nimport { Response } from '../common/response';\nimport { isNil } from 'lodash';\nimport { AuthPair } from './auth.types';\nimport { UserInfo } from './auth.types';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class AuthService {\n\tprivate userInfo: BehaviorSubject<any> = new BehaviorSubject(null);\n\tprivate busyState = { isLoading: false };\n\n\tconstructor(private http: HttpClient) {\n\t}\n\n\tgetBusyState() {\n\t\treturn this.busyState;\n\t}\n\n\tlogin(auth: AuthPair): void {\n\t\tthis.busyState.isLoading = true;\n\t\tconst headers = new HttpHeaders({\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t});\n\t\tconst body = `username=${auth.username}&password=${auth.password}`;\n\t\tconst request = new HttpRequest('POST', '/login-rest', body, { headers });\n\t\tthis.http.request(request).pipe(\n\t\t\tcatchError((error) => {\n\t\t\t\tthis.busyState.isLoading = false;\n\t\t\t\tthrow error;\n\t\t\t}),\n\t\t).subscribe((event) => {\n\t\t\tconst response = (event as HttpResponse<any>);\n\t\t\tif (response?.status == 200) {\n\t\t\t\tthis.setUserInfo(response.body?.data);\n\t\t\t\tthis.busyState.isLoading = false;\n\t\t\t}\n\t\t});\n\t}\n\n\treloadUserInfo() {\n\t\tthis.busyState.isLoading = true;\n\t\tthis.http.get<Response<any>>('/api/auth/user-info').pipe(\n\t\t\ttake(1),\n\t\t\tmap((response) => response?.data),\n\t\t\tcatchError((error) => of(null)),\n\t\t).subscribe((userInfo) => {\n\t\t\tthis.setUserInfo(userInfo);\n\t\t});\n\t\treturn this.userInfo;\n\t}\n\n\tisAuthorized(): Observable<boolean> {\n\t\treturn this.reloadUserInfo().pipe(\n\t\t\tmap((userInfo) => !isNil(userInfo)),\n\t\t);\n\t}\n\n\tprivate setUserInfo(userInfo: UserInfo) {\n\t\tthis.busyState.isLoading = false;\n\t\tthis.userInfo.next(userInfo);\n\t}\n\n}\n","import { OnDestroy } from '@angular/core';\r\nimport { ReplaySubject } from 'rxjs';\r\n\r\nexport class BaseComponent implements OnDestroy {\r\n\tunsubscribe: ReplaySubject<boolean> = new ReplaySubject(1);\r\n\r\n\tngOnDestroy(): void {\r\n\t\tthis.unsubscribe.next(true);\r\n\t\tthis.unsubscribe.complete();\r\n\t}\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}